{% style %}
	.section-top-collection {
		padding-top: 25px;
		padding-bottom: 50px;
	}
	.top-app-container {
		max-width: 800px;
		margin: 0 auto;
	}
	.top-app-container .breadcrumbs {
		padding: 20px 0;
	}
	.top-collection-title {
		font-size: 64px;
		font-weight: 700;
		margin-top: 0;
		margin-bottom: 28px;
		color: #202020;
		line-height: 1.2;
	}
	.top-collection-title span {
		color: #00AA63;
	}
	.top-collection-description {
		font-size: 20px;
		color: #4c4c4c;
		padding-top: 20px;
		line-height: 1.5;
	}
	.top-collection-description p {
		margin-bottom: 28px;
	}
	.top-collection-list {
		line-height: 1.5;
		padding: 0;
		list-style-type: none;
	}
	.top-app {
		padding: 20px 0;
		border-radius: 20px;
		margin-bottom: 20px;
	}
	.top-app-number {
		line-height: 1.3;
		font-size: 40px;
		font-weight: 700;
		color: #00AA63;
		margin-bottom: 16px;
	}
	.top-app-title-wrapper {
		display: flex;
		margin-bottom: 20px;
	}
	.top-app-icon {
		width: 32px;
		flex-shrink: 0;
		margin-right: 8px;
	}
	.top-app-title {
		font-size: 20px;
		font-weight: 700;
		color: #202020;
		margin-top: 0;
		margin-bottom: 0;
	}
	.top-app-intro {
		margin-top: 0;
		margin-bottom: 16px;
		color: #202020;
		font-size: 16px;
		font-weight: 600;
	}
	.top-app-description {
		font-size: 14px;
		font-weight: 400;
		margin-top: 0;
		margin-bottom: 16px;
		color: #4c4c4c;
	}
	.top-app-meta {
		display: flex;
		flex-wrap: wrap;
		align-items: center;
		margin-bottom: 16px;
		gap: 24px;
	}
	.top-app-rating {
		font-size: 14px;
		font-weight: 600;
		color: #202020;
		display: flex;
		align-items: center;
	}
	.top-app-rating svg {
		width: 17px;
		height: 17px;
		margin-left: 4px;
	}
	.top-app-reviews {
		font-size: 14px;
		font-weight: 700;
	}
	.top-app-reviews a {
		color: #202020;
		text-decoration: underline;
	}
	.top-app-reviews a:hover {
		color: #202020;
		text-decoration: none;
	}
	.top-app-developer {
		font-size: 14px;
		font-weight: 400;
		color: #202020;
	}
	.top-app-developer a {
		font-weight: 700;
		color: #202020;
		text-decoration: underline;
	}
	.top-app-developer a:hover {
		text-decoration: none;
	}
	.top-app-price {
		font-size: 16px;
		font-weight: 600;
		color: #202020;
	}
	.top-app-price span {
		font-weight: 700;
	}
	.top-app-pros-cons {
		margin-top: 16px;
		display: flex;
		flex-wrap: wrap;
	}
	.top-app-pros-cons p {
		font-size: 16px;
		font-weight: 600;
		margin-top: 0;
		margin-bottom: 16px;
		color: #202020;
	}
	.top-app-pros-cons ul {
		margin: 0;
		padding: 0;
		list-style-type: none;
	}
	.top-app-pros-cons li {
		position: relative;
		padding-left: 32px;
		padding-right: 24px;
		margin-bottom: 24px;
		font-size: 14px;
		color: #202020;
	}
	.top-app-pros-cons li:last-child {
		margin-bottom: 0;
	}
	.top-app-pros-cons li::before {
		content: '';
		width: 20px;
		height: 20px;
		position: absolute;
		top: 2px;
		left: 0;
		background-repeat: no-repeat;
		background-position: center;
		background-size: contain;
	}
	.top-app-pros {
		width: 50%;
		margin-top: 16px;
	}
	.top-app-pros li::before {
		background-image: url("data:image/svg+xml,%3Csvg width='20' height='20' viewBox='0 0 20 20' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M10 20C12.6522 20 15.1957 18.9464 17.0711 17.0711C18.9464 15.1957 20 12.6522 20 10C20 7.34783 18.9464 4.8043 17.0711 2.92893C15.1957 1.05357 12.6522 0 10 0C7.34783 0 4.8043 1.05357 2.92893 2.92893C1.05357 4.8043 0 7.34783 0 10C0 12.6522 1.05357 15.1957 2.92893 17.0711C4.8043 18.9464 7.34783 20 10 20ZM9.0625 13.4375V10.9375H6.5625C6.04297 10.9375 5.625 10.5195 5.625 10C5.625 9.48047 6.04297 9.0625 6.5625 9.0625H9.0625V6.5625C9.0625 6.04297 9.48047 5.625 10 5.625C10.5195 5.625 10.9375 6.04297 10.9375 6.5625V9.0625H13.4375C13.957 9.0625 14.375 9.48047 14.375 10C14.375 10.5195 13.957 10.9375 13.4375 10.9375H10.9375V13.4375C10.9375 13.957 10.5195 14.375 10 14.375C9.48047 14.375 9.0625 13.957 9.0625 13.4375Z' fill='%2300AA63'/%3E%3C/svg%3E%0A");
	}
	.top-app-cons {
		width: 50%;
		margin-top: 16px;
	}
	.top-app-cons li::before {
		background-image: url("data:image/svg+xml,%3Csvg width='20' height='20' viewBox='0 0 20 20' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M10 20C12.6522 20 15.1957 18.9464 17.0711 17.0711C18.9464 15.1957 20 12.6522 20 10C20 7.34784 18.9464 4.8043 17.0711 2.92893C15.1957 1.05357 12.6522 0 10 0C7.34784 0 4.8043 1.05357 2.92893 2.92893C1.05357 4.8043 0 7.34784 0 10C0 12.6522 1.05357 15.1957 2.92893 17.0711C4.8043 18.9464 7.34784 20 10 20ZM7.1875 9.0625H12.8125C13.332 9.0625 13.75 9.48047 13.75 10C13.75 10.5195 13.332 10.9375 12.8125 10.9375H7.1875C6.66797 10.9375 6.25 10.5195 6.25 10C6.25 9.48047 6.66797 9.0625 7.1875 9.0625Z' fill='%23DB3351'/%3E%3C/svg%3E%0A");
	}
	.top-app-img {
		margin-top: 24px;
		border: 1px solid rgba(0,0,0,0.1);
		border-radius: 10px;
		overflow: hidden;
	}
	.top-app-img img {
		display: block;
		max-width: 100%;
		width: 100%;
	}
	@media (max-width: 750px) {
		.top-collection-title {
			font-size: 36px;
		}
		.top-app {
			margin-bottom: 10px;
		}
		.top-app-number {
			font-size: 30px;
		}
		.top-app-pros,
		.top-app-cons {
			width: 100%;
		}
	}

{% endstyle %}


<div class="top-app-container">
	{% render 'breadcrumbs' %}

	{% assign top_collection = collection %}

	{% if top_collection.products.size > 0 %}

		{% if top_collection.title != blank %}
			<h1 class="top-collection-title">
				{{ top_collection.title }}
			</h1>
		{% endif %}

		{% if top_collection.description != blank %}
			<div class="top-collection-description">
				{{ top_collection.metafields.appstore.description }}
				{{ top_collection.description }}
			</div>
		{% endif %}

		<ul class="top-collection-list">
			{% assign products = top_collection.products %} 
			{% for product in products %}

				<li class="top-collection-list-item">
					<div class="top-app">
						<div class="top-app-number">#{{ forloop.index }}</div>

						<div class="top-app-title-wrapper">
						{% if product.metafields.appstore.icon != blank %}
							<div class="top-app-icon">
								<img width="32" height="32" src="{{ product.metafields.appstore.icon }}" alt="{{ product.title }}">
							</div>
						{% endif %}
						{% if product.title != blank %}
							<h3 class="top-app-title">{{ product.title }}</h3>
						{% endif %}
						</div>

						{% if product.metafields.appstore.intro != blank %}
							<p class="top-app-intro">{{ product.metafields.appstore.intro }}</p>
						{% endif %}

						{% if product.description != blank %}
							<div class="top-app-description">{{ product.description }}</div>
						{% endif %}

						{% if product.metafields.appstore.rating != blank or product.metafields.appstore.reviews != blank or product.metafields.appstore.developer_title != blank %}
						<div class="top-app-meta">
							{% if product.metafields.appstore.rating != blank %}
							<div class="top-app-rating">
								Rating {{ product.metafields.appstore.rating }}
								<svg width="18" height="17" viewBox="0 0 18 17" fill="none" xmlns="http://www.w3.org/2000/svg">
								<path d="M8.12546 1.24918C8.516 0.583608 9.48465 0.583608 9.87511 1.24918L12.1388 5.1073L16.5347 6.05225C17.293 6.21526 17.5924 7.12972 17.0754 7.70409L14.0786 11.0335L14.5316 15.4756C14.6098 16.2419 13.8262 16.8071 13.1161 16.4965L9.00033 14.6961L4.88448 16.4965C4.17446 16.8071 3.39083 16.2419 3.469 15.4756L3.92207 11.0335L0.925275 7.70409C0.408292 7.12972 0.707611 6.21526 1.46594 6.05225L5.86179 5.1073L8.12546 1.24918Z" fill="#00AA63"/>
								</svg>
							</div>
							{% endif %}
							
							{% if product.metafields.appstore.reviews != blank %}
							{% assign reviews_count = product.metafields.appstore.reviews %}
							<div class="top-app-reviews">
								<a class="top-app-link" href="https://apps.shopify.com/{{ product.handle }}/reviews?utm_medium=referral&utm_source=takeyourapp&utm_campaign={{ product.title | handleize }}&utm_content={{ reviews_count }}-{{ 'product.reviews' | t | handleize}}" target="_blank">
										{{ reviews_count }} {{ 'product.reviews' | t }}
								</a>
							</div>
							{% endif %}

							{% if product.metafields.appstore.developer_title != blank %}
							{% assign developer_page = routes.root_url | append: "pages/" | append: product.metafields.appstore.developer.value %}
							{% assign developer_title = product.metafields.appstore.developer_title.value %}
								<div class="top-app-developer">
									{{ 'product.developers' | t }}
									<a class="top-app-link" href="{{ developer_page }}">{{ developer_title }}</a>
								</div>
							{% endif %}

						</div>
						{% endif %}

						{% if product.metafields.appstore.trial_period.value != blank %}
						<div class="top-app-price-wrapper">
							<div class="top-app-price">
								{{ "product.price" | t }} <span>{{ product.metafields.appstore.trial_period.value | replace: "Price:" }}</span>
							</div>
						</div>
						{% endif %}

						{% if product.metafields.custom.app_pros != blank or  product.metafields.custom.app_cons != blank %}
						<div class="top-app-pros-cons">
							{% if product.metafields.custom.app_pros != blank %}
								{% assign pros = product.metafields.custom.app_pros.value %}
								<div class="top-app-pros">
									<p>Pros</p>
									<ul class="top-app-pros-list">
										{% for pro in pros %}
											<li>{{ pro }}</li>
										{% endfor %}
									</ul>
								</div>
							{% endif %}
							{% if product.metafields.custom.app_cons != blank %}
								{% assign cons = product.metafields.custom.app_pros.value %}
								<div class="top-app-cons">
									<p>Cons</p>
									<ul class="top-app-cons-list">
										{% for con in cons %}
											<li>{{ con }}</li>
										{% endfor %}
									</ul>
								</div>
							{% endif %}
						</div>
						{% endif %}

						{% if product.featured_media != blank %}
							<div class="top-app-img">
								<img width="100%" height="auto" src="{{ product.featured_media | image_url }}" alt="{{ product.title }}">
							</div>
						{% endif %}

					</div>
				</li>
			{% endfor %}
		</ul>
	{% endif %}


</div>


{% schema %}
{
	"name": "Top Collection",
	"class": "section section-top-collection",
	"tag": "section",
	"settings": [
	
	],

	"presets": [
		{
			"name": "Top Collection"
		}
	]
} 
{% endschema %}